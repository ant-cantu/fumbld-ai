<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">

     <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
</head>
<body>

    <!-- Header -->
    <header>
        <!-- Nav Menu -->
        <nav class="nav-bar">
            <a href="{{ url_for('main.home') }}"><img src="{{ url_for('static', filename='img/draftmind-small-logo.png') }}" alt="draftmind-ai Logo"></a>
            <div class="nav-links">
                <ul>
                    <li><a href="{{ url_for('main.home') }}">Home</a></li>
                    <li><a href="{{ url_for('main.home') }}">About</a></li>
                    <li><a href="/register" role="button" style="color: green;">Register</a></li>
                    <li><a href="/login" role="button">Log In</a></li>
                </ul>
            </div>
        </nav>
        <!-- End Nav Section-->
    </header>
    <!-- End Header -->

    <!-- Main Body -->
    <main>
        {% with messages = get_flashed_messages(category_filter=["error"]) %}
            {% if messages %}
                <div class="flash flash-error">
                    <ul>
                        {% for message in messages %}
                            <li>{{ message }}</li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
        {% endwith %}

        <!-- Login Menu -->
        <div class="login-container">
            <div class="login-header">
                <h2>Sign in to your account</h2>
                <p>Or <a href="{{ url_for('main.account_register') }}">sign up for a new account</a></p>
            </div>
            <div class="login-menu-container">
                <form method="POST" action="{{ url_for('main.account_login') }}" novalidate>
                    {{ form.hidden_tag() }}
                    <!-- <div class="form-username">
                        <label for="username">{{ form.username.label(class="form-label") }}</label>
                        {{ form.username(size=30, class="form-control") }}
                        {% if form.username.errors %}
                            <ul class="errors">
                                {% for error in form.username.errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                        {% endif %}
                    </div> -->
                    <div class="form-username">
                        <label for="username">{{ form.username.label(class="form-label") }}</label>

                        {% set username_error = form.username.errors[0] if form.username.errors else '' %}
                        {{ form.username(
                            size=30,
                            class="form-control" if not username_error else "form-control is-invalid",
                            placeholder=username_error if username_error else "Enter username"
                        ) }}
                    </div>


                    <!-- <div class="form-password">
                        <label for="password">{{ form.password.label(class="form-label") }}</label>
                        {{ form.password(size=30, class="form-control") }}
                        {% if form.password.errors %}
                            <ul class="errors">
                                {% for error in form.password.errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                            </ul>
                        {% endif %}
                    </div> -->
                    <div class="form-password">
                        <label for="password">{{ form.password.label(class="form-label") }}</label>

                        {% set error_message = form.password.errors[0] if form.password.errors else '' %}
                        {{ form.password(
                            size=30, 
                            class="form-control" if not error_message else "form-control is-invalid", 
                            placeholder=error_message if error_message else "Enter password"
                        ) }}
                    </div>

                    <div class="login-lower">
                        <span>{{ form.remember(class="remember-me") }} Remember Me</span>
                        <a class="forgot-link" href="#">Forgot Your Password?</a>
                    </div>

                    <div class="form-button">
                        {{ form.submit(class="form-submit") }}
                    </div>
                </form>
            </div>
        </div>
        <!-- End Login Menu -->
    </main>
    <!-- End Main Body -->

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="#">About</a></li>
                    <li><a href="#">Register</a></li>
                    <li><a href="#">Contact</a></li>
                </ul>
            </div>
            <div class="footer-bottom">
                <p>Copyright&copy; 2025 <span class="footer-design">DynastyMind </span>AI</p>
            </div>
        </div>
    </footer>
    <!-- End Footer -->

    <!-- Scripts -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>

</body>
</html>